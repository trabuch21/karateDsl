{"failedCount":1,"prefixedPath":"classpath:conduitApp\/features\/HomeWork.feature","packageQualifiedName":"conduitApp.features.HomeWork","loopIndex":-1,"relativePath":"conduitApp\/features\/HomeWork.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":138916,"millis":0.138916,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url apiUrl"},"stepLog":"23:10:17.367 karate.env system property was: null \n"},{"result":{"nanos":5090530,"millis":5.09053,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def articleRequestBody = read('classpath:conduitApp\/json\/newArticleRequest.json')"}},{"result":{"nanos":1378254,"millis":1.378254,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helpers.DataGenerator')"}},{"result":{"nanos":1652749,"millis":1.652749,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"set articleRequestBody.article.title = dataGenerator.getRandomArticleValues().title"}},{"result":{"nanos":1475570,"millis":1.47557,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"set articleRequestBody.article.description = dataGenerator.getRandomArticleValues().description"}},{"result":{"nanos":2280989,"millis":2.280989,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"set articleRequestBody.article.body = dataGenerator.getRandomArticleValues().body"}},{"result":{"nanos":7752344,"millis":7.752344,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def timeValidator = read('classpath:helpers\/timeValidator.js')"}},{"result":{"nanos":428946,"millis":0.428946,"status":"passed"},"step":{"line":15,"prefix":"Given","index":0,"text":"path 'articles'"}},{"result":{"nanos":1676137159,"millis":1676.137159,"status":"passed"},"step":{"comments":["# Step 1: Get atricles of the global feed"],"line":17,"prefix":"When","index":1,"text":"method get"},"stepLog":"23:10:17.398 request:\n1 > GET https:\/\/api.realworld.io\/api\/articles\n1 > Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRyYWJ1Y2gyMUBnbWFpbC5jb20iLCJ1c2VybmFtZSI6InRyYWJ1Y2gyMSIsImlhdCI6MTY3NTQ2NTgxNSwiZXhwIjoxNjgwNjQ5ODE1fQ.U5_sbWYDYbj1UGqdwdvI7yVc3-7R-ZYEJfkizbdIJJ0\n1 > Host: api.realworld.io\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.2.1)\n1 > Accept-Encoding: gzip,deflate\n\n\n23:10:19.064 response time in milliseconds: 1653\n1 < 200\n1 < Date: Fri, 03 Feb 2023 23:10:18 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Etag: W\/\"f1e-ap111XhILt1yqWYhbUXZRdggySI\"\n1 < Via: 1.1 vegur\n1 < CF-Cache-Status: DYNAMIC\n1 < Report-To: {\"endpoints\":[{\"url\":\"https:\\\/\\\/a.nel.cloudflare.com\\\/report\\\/v3?s=%2BNvGXszdhhdGzkjp8%2FqqDurK5feXEgAUEI6GRC98RFjwlt63oD6zcHIifpZahjoS0KVPH8NebwmFUrgitoRTrFNJepxTbG4wtLZDiTsL%2FJkEI%2BxLR1SA4rA4kM0U3zCOgyCQ\"}],\"group\":\"cf-nel\",\"max_age\":604800}\n1 < NEL: {\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}\n1 < Server: cloudflare\n1 < CF-RAY: 793ed6d06aee347b-NRT\n1 < alt-svc: h3=\":443\"; ma=86400, h3-29=\":443\"; ma=86400\n{\"articles\":[{\"slug\":\"Haldon-132513\",\"title\":\"Haldon\",\"description\":\"Pentos\",\"body\":\"Hodor? Hodor.\",\"tagList\":[],\"createdAt\":\"2023-02-03T23:10:17.290Z\",\"updatedAt\":\"2023-02-03T23:10:17.290Z\",\"favorited\":false,\"favoritesCount\":0,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}},{\"slug\":\"Bryan-Fossoway-132513\",\"title\":\"Bryan Fossoway\",\"description\":\"Volantis\",\"body\":\"The things I do for love.\",\"tagList\":[],\"createdAt\":\"2023-02-03T23:10:17.289Z\",\"updatedAt\":\"2023-02-03T23:10:17.289Z\",\"favorited\":false,\"favoritesCount\":0,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}},{\"slug\":\"Qarl-Correy-132513\",\"title\":\"Qarl Correy\",\"description\":\"Elyria\",\"body\":\"... a mind needs books as a sword needs a whetstone, if it is to keep its edge.\",\"tagList\":[],\"createdAt\":\"2023-02-03T22:41:23.500Z\",\"updatedAt\":\"2023-02-03T22:41:23.500Z\",\"favorited\":true,\"favoritesCount\":1,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}},{\"slug\":\"Samwell-Tarly-132513\",\"title\":\"Samwell Tarly\",\"description\":\"Tolos\",\"body\":\"A lion doesn't concern itself with the opinion of sheep.\",\"tagList\":[],\"createdAt\":\"2023-02-03T22:41:23.431Z\",\"updatedAt\":\"2023-02-03T22:41:23.431Z\",\"favorited\":false,\"favoritesCount\":0,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}},{\"slug\":\"Galladon-of-Morne-132513\",\"title\":\"Galladon of Morne\",\"description\":\"Yunkai\",\"body\":\"Give me honorable enemies rather than ambitious ones, and I'll sleep more easily by night.\",\"tagList\":[],\"createdAt\":\"2023-02-01T18:13:42.065Z\",\"updatedAt\":\"2023-02-01T18:13:42.065Z\",\"favorited\":true,\"favoritesCount\":1,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}},{\"slug\":\"Wilbert-Osgrey-132513\",\"title\":\"Wilbert Osgrey\",\"description\":\"New Ghis\",\"body\":\"There are no heroes...in life, the monsters win.\",\"tagList\":[],\"createdAt\":\"2023-02-01T18:13:42.064Z\",\"updatedAt\":\"2023-02-01T18:13:42.064Z\",\"favorited\":false,\"favoritesCount\":0,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}},{\"slug\":\"Aeron-Greyjoy-132513\",\"title\":\"Aeron Greyjoy\",\"description\":\"Astapor\",\"body\":\"Knowledge could be more valuable than gold, more deadly than a dagger.\",\"tagList\":[],\"createdAt\":\"2023-02-01T18:13:16.517Z\",\"updatedAt\":\"2023-02-01T18:13:16.517Z\",\"favorited\":false,\"favoritesCount\":0,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}},{\"slug\":\"test22221-132513\",\"title\":\"test22221\",\"description\":\"asdasd\",\"body\":\"asdadasd\",\"tagList\":[],\"createdAt\":\"2023-01-31T19:30:43.042Z\",\"updatedAt\":\"2023-01-31T19:30:43.042Z\",\"favorited\":true,\"favoritesCount\":1,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}},{\"slug\":\"Joss-the-Gloom-132513\",\"title\":\"Joss the Gloom\",\"description\":\"Myr\",\"body\":\"Do the dead frighten you?\",\"tagList\":[],\"createdAt\":\"2023-01-30T19:19:19.861Z\",\"updatedAt\":\"2023-01-30T19:19:19.861Z\",\"favorited\":false,\"favoritesCount\":0,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}},{\"slug\":\"Daemon-Targaryen-132513\",\"title\":\"Daemon Targaryen\",\"description\":\"Sar Meel\",\"body\":\"Nothing burns like the cold.\",\"tagList\":[],\"createdAt\":\"2023-01-30T19:19:04.945Z\",\"updatedAt\":\"2023-01-30T19:19:04.945Z\",\"favorited\":false,\"favoritesCount\":0,\"author\":{\"username\":\"trabuch21\",\"bio\":null,\"image\":\"https:\/\/api.realworld.io\/images\/smiley-cyrus.jpeg\",\"following\":false}}],\"articlesCount\":224}\n\n"},{"result":{"nanos":21109,"millis":0.021109,"status":"passed"},"step":{"line":18,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":1220042,"millis":1.220042,"status":"passed"},"step":{"comments":["# Step 2: Get the favorites count and slug ID for the first arice, save it to variables"],"line":20,"prefix":"*","index":3,"text":"def initialCount = response.articles[0].favoritesCount"}},{"result":{"nanos":1010979,"millis":1.010979,"status":"passed"},"step":{"line":21,"prefix":"*","index":4,"text":"def slugID = response.articles[0].slug"}},{"result":{"nanos":13755,"millis":0.013755,"status":"passed"},"step":{"line":22,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":960522,"millis":0.960522,"status":"passed"},"step":{"comments":["# Step 3: Make POST request to increse favorites count for the first article"],"line":26,"prefix":"Given","index":6,"text":"path 'articles\/'+slugID+'\/favorite'"}},{"result":{"nanos":137315,"millis":0.137315,"status":"passed"},"step":{"line":27,"prefix":"And","index":7,"text":"request {}"}},{"result":{"nanos":431167239,"millis":431.167239,"status":"passed"},"step":{"line":28,"prefix":"When","index":8,"text":"method Post"},"stepLog":"23:10:19.078 request:\n2 > POST https:\/\/api.realworld.io\/api\/articles\/Haldon-132513\/favorite\n2 > Authorization: Token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRyYWJ1Y2gyMUBnbWFpbC5jb20iLCJ1c2VybmFtZSI6InRyYWJ1Y2gyMSIsImlhdCI6MTY3NTQ2NTgxNSwiZXhwIjoxNjgwNjQ5ODE1fQ.U5_sbWYDYbj1UGqdwdvI7yVc3-7R-ZYEJfkizbdIJJ0\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 2\n2 > Host: api.realworld.io\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/18.0.2.1)\n2 > Accept-Encoding: gzip,deflate\n{}\n\n23:10:19.500 response time in milliseconds: 420\n2 < 500\n2 < Date: Fri, 03 Feb 2023 23:10:19 GMT\n2 < Content-Type: application\/json; charset=utf-8\n2 < Content-Length: 198\n2 < Connection: keep-alive\n2 < X-Powered-By: Express\n2 < Access-Control-Allow-Origin: *\n2 < Etag: W\/\"c6-lOugqh+Nyq3jZh+QqGuQxpacwRQ\"\n2 < Via: 1.1 vegur\n2 < CF-Cache-Status: DYNAMIC\n2 < Report-To: {\"endpoints\":[{\"url\":\"https:\\\/\\\/a.nel.cloudflare.com\\\/report\\\/v3?s=z4pfcWgG5Yi34MFU4KTG6pUVzcrhDSN%2BRDcKaxiohmAyASl%2Fx4byYFtiDncREZvowKvxdrls3j1eUqFalL%2F8C5StcIcfMV0AcibBseax0q0P8T9JaLjvGuymQ1d2CPpKBDDw\"}],\"group\":\"cf-nel\",\"max_age\":604800}\n2 < NEL: {\"success_fraction\":0,\"report_to\":\"cf-nel\",\"max_age\":604800}\n2 < Server: cloudflare\n2 < CF-RAY: 793ed6dacecdf6f6-NRT\n2 < alt-svc: h3=\":443\"; ma=86400, h3-29=\":443\"; ma=86400\n\"\\nInvalid `prisma.article.update()` invocation:\\n\\n\\nQuery interpretation error. Error for binding '0': AssertionError(\\\"Required exactly one parent ID to be present for connect query, found 0.\\\")\"\n\n"},{"result":{"nanos":86770,"errorMessage":"status code was: 500, expected: 200, response time in milliseconds: 420, url: https:\/\/api.realworld.io\/api\/articles\/Haldon-132513\/favorite, response: \n\"\\nInvalid `prisma.article.update()` invocation:\\n\\n\\nQuery interpretation error. Error for binding '0': AssertionError(\\\"Required exactly one parent ID to be present for connect query, found 0.\\\")\"\nclasspath:conduitApp\/features\/HomeWork.feature:29","millis":0.08677,"status":"failed"},"step":{"line":29,"prefix":"Then","index":9,"text":"status 200"},"stepLog":"23:10:19.504 classpath:conduitApp\/features\/HomeWork.feature:29\nThen status 200\nstatus code was: 500, expected: 200, response time in milliseconds: 420, url: https:\/\/api.realworld.io\/api\/articles\/Haldon-132513\/favorite, response: \n\"\\nInvalid `prisma.article.update()` invocation:\\n\\n\\nQuery interpretation error. Error for binding '0': AssertionError(\\\"Required exactly one parent ID to be present for connect query, found 0.\\\")\"\nclasspath:conduitApp\/features\/HomeWork.feature:29\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"endLine":63,"comments":["# Step 4: Verify response schema"],"line":31,"prefix":"And","docString":"{\n\"id\": \"#number\",\n\"slug\": \"#string\",\n\"title\": \"#string\",\n\"description\": \"#string\",\n\"body\": \"#string\",\n\"createdAt\": \"#? timeValidator(_)\",\n\"updatedAt\": \"#? timeValidator(_)\",\n\"authorId\": \"#number\",\n\"tagList\": \"#array\",\n\"author\": {\n    \"username\": \"#string\",\n    \"bio\": \"##string\",\n    \"image\": \"#string\",\n    \"following\": \"#boolean\"\n},\n\"favoritedBy\": [\n    {\n        \"id\": \"#number\",\n        \"email\": \"#string\",\n        \"username\": \"#string\",\n        \"password\": \"#string\",\n        \"image\": \"#string\",\n        \"bio\": \"##string\",\n        \"demo\": \"#boolean\"\n    }\n],\n\"favorited\": \"#boolean\",\n\"favoritesCount\": \"#number\"\n    }","index":10,"text":"match response.article =="}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Step 5: Verify that favorites article incremented by 1"],"line":66,"prefix":"*","index":11,"text":"match response.article.favoritesCount == initialCount + 1"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Step 6: Get all favorite articles"],"line":69,"prefix":"Given","index":12,"text":"params {favorited:\"trabuch21\", limit: 10, offset: 0}"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":70,"prefix":"Given","index":13,"text":"path 'articles'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":71,"prefix":"When","index":14,"text":"method get"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"endLine":92,"comments":["# Step 7: Verify response schema"],"line":73,"prefix":"And","docString":"{\n    \"slug\": \"#string\",\n    \"title\": \"#string\",\n    \"description\": \"#string\",\n    \"body\": \"#string\",\n    \"tagList\": \"#array\",\n    \"createdAt\": \"#? timeValidator(_)\",\n    \"updatedAt\": \"#? timeValidator(_)\",\n    \"favorited\": \"#boolean\",\n    \"favoritesCount\": \"#number\",\n    \"author\": {\n        \"username\": \"#string\",\n        \"bio\": \"##string\",\n        \"image\": \"#string\",\n        \"following\": \"#boolean\"\n    }\n}","index":15,"text":"match each response.articles =="}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Step 8: Verify that slug ID from Step 2 exist in one of the favorite articles"],"line":94,"prefix":"And","index":16,"text":"match response.articles[*].slug contains slugID"}}],"line":14,"description":"","durationMillis":2130.953188,"failed":true,"error":"status code was: 500, expected: 200, response time in milliseconds: 420, url: https:\/\/api.realworld.io\/api\/articles\/Haldon-132513\/favorite, response: \n\"\\nInvalid `prisma.article.update()` invocation:\\n\\n\\nQuery interpretation error. Error for binding '0': AssertionError(\\\"Required exactly one parent ID to be present for connect query, found 0.\\\")\"\nclasspath:conduitApp\/features\/HomeWork.feature:29","tags":["test"],"executorName":"pool-1-thread-3","name":"Favorite articles","startTime":1675465817356,"refId":"[1:14]","endTime":1675465819504,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":179870,"millis":0.17987,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url apiUrl"},"stepLog":"23:10:24.109 karate.env system property was: null \n"},{"result":{"nanos":3589237,"millis":3.589237,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def articleRequestBody = read('classpath:conduitApp\/json\/newArticleRequest.json')"}},{"result":{"nanos":1413410,"millis":1.41341,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def dataGenerator = Java.type('helpers.DataGenerator')"}},{"result":{"nanos":1151813,"millis":1.151813,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"set articleRequestBody.article.title = dataGenerator.getRandomArticleValues().title"}},{"result":{"nanos":1280882,"millis":1.280882,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"set articleRequestBody.article.description = dataGenerator.getRandomArticleValues().description"}},{"result":{"nanos":1283122,"millis":1.283122,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"set articleRequestBody.article.body = dataGenerator.getRandomArticleValues().body"}},{"result":{"nanos":4496459,"millis":4.496459,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def timeValidator = read('classpath:helpers\/timeValidator.js')"}}],"executorName":"pool-1-thread-5","line":95,"name":"Comment articles","description":"","durationMillis":13.394793,"startTime":1675465819066,"failed":false,"refId":"[2:95]","endTime":1675465824125,"exampleIndex":-1}],"callDepth":0,"name":"Home Work","description":"","resultDate":"2023-02-03 11:11:10 PM","durationMillis":2144.347981,"passedCount":1}